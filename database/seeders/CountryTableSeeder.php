<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\Country;
use Illuminate\Support\Facades\DB;

class CountryTableSeeder extends Seeder
{
    protected $countryArray = [
        ['id' => 100, 'name' => 'Afganistán', 'iso_3366_1' => ''],
        ['id' => 101, 'name' => 'Albania', 'iso_3366_1' => ''],
        ['id' => 102, 'name' => 'Alemania', 'iso_3366_1' => ''],
        ['id' => 103, 'name' => 'Andorra', 'iso_3366_1' => ''],
        ['id' => 104, 'name' => 'Angola', 'iso_3366_1' => ''],
        ['id' => 105, 'name' => 'Antigua y Barbuda', 'iso_3366_1' => ''],
        ['id' => 106, 'name' => 'Antillas Holandesas', 'iso_3366_1' => ''],
        ['id' => 107, 'name' => 'Arabia Saudita', 'iso_3366_1' => ''],
        ['id' => 108, 'name' => 'Argelia', 'iso_3366_1' => ''],
        ['id' => 109, 'name' => 'Argentina', 'iso_3366_1' => ''],
        ['id' => 110, 'name' => 'Armenia', 'iso_3366_1' => ''],
        ['id' => 111, 'name' => 'Aruba', 'iso_3366_1' => ''],
        ['id' => 112, 'name' => 'Australia', 'iso_3366_1' => ''],
        ['id' => 113, 'name' => 'Austria', 'iso_3366_1' => ''],
        ['id' => 114, 'name' => 'Azerbaiyán', 'iso_3366_1' => ''],
        ['id' => 115, 'name' => 'Bahamas', 'iso_3366_1' => ''],
        ['id' => 116, 'name' => 'Bahrein', 'iso_3366_1' => ''],
        ['id' => 117, 'name' => 'Bangladesh', 'iso_3366_1' => ''],
        ['id' => 118, 'name' => 'Barbados', 'iso_3366_1' => ''],
        ['id' => 119, 'name' => 'Bélgica', 'iso_3366_1' => ''],
        ['id' => 120, 'name' => 'Belice', 'iso_3366_1' => ''],
        ['id' => 121, 'name' => 'Benín', 'iso_3366_1' => ''],
        ['id' => 122, 'name' => 'Bermudas', 'iso_3366_1' => ''],
        ['id' => 123, 'name' => 'Bhután', 'iso_3366_1' => ''],
        ['id' => 124, 'name' => 'Bielorrusia / Belarús', 'iso_3366_1' => ''],
        ['id' => 125, 'name' => 'Bolivia', 'iso_3366_1' => ''],
        ['id' => 126, 'name' => 'Bosnia-Hercegovina', 'iso_3366_1' => ''],
        ['id' => 127, 'name' => 'Botsuana', 'iso_3366_1' => ''],
        ['id' => 128, 'name' => 'Brasil', 'iso_3366_1' => ''],
        ['id' => 129, 'name' => 'Brunei Darussalam', 'iso_3366_1' => ''],
        ['id' => 130, 'name' => 'Bulgaria', 'iso_3366_1' => ''],
        ['id' => 131, 'name' => 'Burkina Faso', 'iso_3366_1' => ''],
        ['id' => 132, 'name' => 'Burundi', 'iso_3366_1' => ''],
        ['id' => 133, 'name' => 'Cabo Verde', 'iso_3366_1' => ''],
        ['id' => 134, 'name' => 'Camboya', 'iso_3366_1' => ''],
        ['id' => 135, 'name' => 'Camerún', 'iso_3366_1' => ''],
        ['id' => 136, 'name' => 'Canadá', 'iso_3366_1' => ''],
        ['id' => 137, 'name' => 'Chad', 'iso_3366_1' => ''],
        ['id' => 138, 'name' => 'Chile', 'iso_3366_1' => ''],
        ['id' => 139, 'name' => 'China', 'iso_3366_1' => ''],
        ['id' => 140, 'name' => 'Chipre', 'iso_3366_1' => ''],
        ['id' => 141, 'name' => 'Ciudad del Vaticano', 'iso_3366_1' => ''],
        ['id' => 142, 'name' => 'Colombia', 'iso_3366_1' =>'CO'],
        ['id' => 143, 'name' => 'Comoras', 'iso_3366_1' => ''],
        ['id' => 144, 'name' => 'Congo', 'iso_3366_1' => ''],
        ['id' => 145, 'name' => 'Corea del Norte', 'iso_3366_1' => ''],
        ['id' => 146, 'name' => 'Corea del Sur', 'iso_3366_1' => ''],
        ['id' => 147, 'name' => 'Costa de Marfil', 'iso_3366_1' => ''],
        ['id' => 148, 'name' => 'Costa Rica', 'iso_3366_1' => ''],
        ['id' => 149, 'name' => 'Croacia', 'iso_3366_1' => ''],
        ['id' => 150, 'name' => 'Cuba', 'iso_3366_1' => ''],
        ['id' => 151, 'name' => 'Dinamarca', 'iso_3366_1' => ''],
        ['id' => 152, 'name' => 'Djibouti', 'iso_3366_1' => ''],
        ['id' => 153, 'name' => 'Dominicana', 'iso_3366_1' => ''],
        ['id' => 154, 'name' => 'Ecuador', 'iso_3366_1' => ''],
        ['id' => 155, 'name' => 'Egipto', 'iso_3366_1' => ''],
        ['id' => 156, 'name' => 'El Salvador', 'iso_3366_1' => ''],
        ['id' => 157, 'name' => 'Emiratos Árabes Unidos', 'iso_3366_1' => ''],
        ['id' => 158, 'name' => 'Eritrea', 'iso_3366_1' => ''],
        ['id' => 159, 'name' => 'Eslovaquia', 'iso_3366_1' => ''],
        ['id' => 160, 'name' => 'Eslovenia', 'iso_3366_1' => ''],
        ['id' => 161, 'name' => 'España', 'iso_3366_1' => ''],
        ['id' => 162, 'name' => 'Estados Unidos', 'iso_3366_1' => ''],
        ['id' => 163, 'name' => 'Estonia', 'iso_3366_1' => ''],
        ['id' => 164, 'name' => 'Etiopía', 'iso_3366_1' => ''],
        ['id' => 165, 'name' => 'Federación Rusia', 'iso_3366_1' => ''],
        ['id' => 166, 'name' => 'Fiji', 'iso_3366_1' => ''],
        ['id' => 167, 'name' => 'Filipinas', 'iso_3366_1' => ''],
        ['id' => 168, 'name' => 'Finlandia', 'iso_3366_1' => ''],
        ['id' => 169, 'name' => 'Francia', 'iso_3366_1' => ''],
        ['id' => 170, 'name' => 'Gabón', 'iso_3366_1' => ''],
        ['id' => 171, 'name' => 'Gambia', 'iso_3366_1' => ''],
        ['id' => 172, 'name' => 'Georgia', 'iso_3366_1' => ''],
        ['id' => 173, 'name' => 'Ghana', 'iso_3366_1' => ''],
        ['id' => 174, 'name' => 'Granada', 'iso_3366_1' => ''],
        ['id' => 175, 'name' => 'Grecia', 'iso_3366_1' => ''],
        ['id' => 176, 'name' => 'Guatemala', 'iso_3366_1' => ''],
        ['id' => 177, 'name' => 'Guyana', 'iso_3366_1' => ''],
        ['id' => 178, 'name' => 'Guinea', 'iso_3366_1' => ''],
        ['id' => 179, 'name' => 'Guinea Bissau', 'iso_3366_1' => ''],
        ['id' => 180, 'name' => 'Guinea Ecuatorial', 'iso_3366_1' => ''],
        ['id' => 181, 'name' => 'Haití', 'iso_3366_1' => ''],
        ['id' => 182, 'name' => 'Honduras', 'iso_3366_1' => ''],
        ['id' => 183, 'name' => 'Hong-Kong', 'iso_3366_1' => ''],
        ['id' => 184, 'name' => 'Hungría', 'iso_3366_1' => ''],
        ['id' => 185, 'name' => 'India', 'iso_3366_1' => ''],
        ['id' => 186, 'name' => 'Indonesia', 'iso_3366_1' => ''],
        ['id' => 187, 'name' => 'Irak', 'iso_3366_1' => ''],
        ['id' => 188, 'name' => 'Irán (República Islámica de)', 'iso_3366_1' => ''],
        ['id' => 189, 'name' => 'Irlanda', 'iso_3366_1' => ''],
        ['id' => 190, 'name' => 'Isla Cook', 'iso_3366_1' => ''],
        ['id' => 191, 'name' => 'Islandia', 'iso_3366_1' => ''],
        ['id' => 192, 'name' => 'Islas Marshall', 'iso_3366_1' => ''],
        ['id' => 193, 'name' => 'Islas Salomón', 'iso_3366_1' => ''],
        ['id' => 194, 'name' => 'Islas Seychelles', 'iso_3366_1' => ''],
        ['id' => 195, 'name' => 'Islas Turcas y Caicos', 'iso_3366_1' => ''],
        ['id' => 196, 'name' => 'Islas Vírgenes Británicas', 'iso_3366_1' => ''],
        ['id' => 197, 'name' => 'Israel', 'iso_3366_1' => ''],
        ['id' => 198, 'name' => 'Italia', 'iso_3366_1' => ''],
        ['id' => 199, 'name' => 'Jamahiriya Árabe Libia', 'iso_3366_1' => ''],
        ['id' => 200, 'name' => 'Jamaica', 'iso_3366_1' => ''],
        ['id' => 201, 'name' => 'Japón', 'iso_3366_1' => ''],
        ['id' => 202, 'name' => 'Jordania', 'iso_3366_1' => ''],
        ['id' => 203, 'name' => 'Kazajistán', 'iso_3366_1' => ''],
        ['id' => 204, 'name' => 'Kenya', 'iso_3366_1' => ''],
        ['id' => 205, 'name' => 'Kirguizistán', 'iso_3366_1' => ''],
        ['id' => 206, 'name' => 'Kiribati', 'iso_3366_1' => ''],
        ['id' => 207, 'name' => 'Kuwait', 'iso_3366_1' => ''],
        ['id' => 208, 'name' => 'La Ex-Republica Yugoslava de Macedonia', 'iso_3366_1' => ''],
        ['id' => 209, 'name' => 'Liechtenstein', 'iso_3366_1' => ''],
        ['id' => 210, 'name' => 'Lesotho', 'iso_3366_1' => ''],
        ['id' => 211, 'name' => 'Letonia', 'iso_3366_1' => ''],
        ['id' => 212, 'name' => 'Líbano', 'iso_3366_1' => ''],
        ['id' => 213, 'name' => 'Liberia', 'iso_3366_1' => ''],
        ['id' => 214, 'name' => 'Lituania', 'iso_3366_1' => ''],
        ['id' => 215, 'name' => 'Luxemburgo', 'iso_3366_1' => ''],
        ['id' => 216, 'name' => 'Macao', 'iso_3366_1' => ''],
        ['id' => 217, 'name' => 'Madagascar', 'iso_3366_1' => ''],
        ['id' => 218, 'name' => 'Malasia', 'iso_3366_1' => ''],
        ['id' => 219, 'name' => 'Malaui', 'iso_3366_1' => ''],
        ['id' => 220, 'name' => 'Maldivas', 'iso_3366_1' => ''],
        ['id' => 221, 'name' => 'Malí', 'iso_3366_1' => ''],
        ['id' => 222, 'name' => 'Malta', 'iso_3366_1' => ''],
        ['id' => 223, 'name' => 'Marruecos', 'iso_3366_1' => ''],
        ['id' => 224, 'name' => 'Mauricio', 'iso_3366_1' => ''],
        ['id' => 225, 'name' => 'Mauritania', 'iso_3366_1' => ''],
        ['id' => 226, 'name' => 'México', 'iso_3366_1' => ''],
        ['id' => 227, 'name' => 'Micronesia (Estados Federados de)', 'iso_3366_1' => ''],
        ['id' => 228, 'name' => 'Moldavia', 'iso_3366_1' => ''],
        ['id' => 229, 'name' => 'Mónaco', 'iso_3366_1' => ''],
        ['id' => 230, 'name' => 'Mongolia', 'iso_3366_1' => ''],
        ['id' => 231, 'name' => 'Mozambique', 'iso_3366_1' => ''],
        ['id' => 232, 'name' => 'Myanmar', 'iso_3366_1' => ''],
        ['id' => 233, 'name' => 'Namibia', 'iso_3366_1' => ''],
        ['id' => 234, 'name' => 'Nauru', 'iso_3366_1' => ''],
        ['id' => 235, 'name' => 'Nepal', 'iso_3366_1' => ''],
        ['id' => 236, 'name' => 'Nicaragua', 'iso_3366_1' => ''],
        ['id' => 237, 'name' => 'Níger', 'iso_3366_1' => ''],
        ['id' => 238, 'name' => 'Nigeria', 'iso_3366_1' => ''],
        ['id' => 239, 'name' => 'Niue', 'iso_3366_1' => ''],
        ['id' => 240, 'name' => 'Noruega', 'iso_3366_1' => ''],
        ['id' => 241, 'name' => 'Nueva Zelandia', 'iso_3366_1' => ''],
        ['id' => 242, 'name' => 'Omán', 'iso_3366_1' => ''],
        ['id' => 243, 'name' => 'Países Bajos', 'iso_3366_1' => ''],
        ['id' => 244, 'name' => 'Pakistán', 'iso_3366_1' => ''],
        ['id' => 245, 'name' => 'Palau', 'iso_3366_1' => ''],
        ['id' => 246, 'name' => 'Palestina', 'iso_3366_1' => ''],
        ['id' => 247, 'name' => 'Panamá', 'iso_3366_1' => ''],
        ['id' => 248, 'name' => 'Papua Nueva Guinea', 'iso_3366_1' => ''],
        ['id' => 249, 'name' => 'Paraguay', 'iso_3366_1' => ''],
        ['id' => 250, 'name' => 'Perú', 'iso_3366_1' => ''],
        ['id' => 251, 'name' => 'Polonia', 'iso_3366_1' => ''],
        ['id' => 252, 'name' => 'Portugal', 'iso_3366_1' => ''],
        ['id' => 253, 'name' => 'Qatar', 'iso_3366_1' => ''],
        ['id' => 254, 'name' => 'Reino Unido', 'iso_3366_1' => ''],
        ['id' => 255, 'name' => 'República Centroafricana', 'iso_3366_1' => ''],
        ['id' => 256, 'name' => 'República Checa', 'iso_3366_1' => ''],
        ['id' => 257, 'name' => 'República Democrática del Congo', 'iso_3366_1' => ''],
        ['id' => 258, 'name' => 'República Dominicana', 'iso_3366_1' => ''],
        ['id' => 259, 'name' => 'República Pop. Dem. Laos', 'iso_3366_1' => ''],
        ['id' => 260, 'name' => 'República Unida de Tanzania', 'iso_3366_1' => ''],
        ['id' => 261, 'name' => 'Rumania', 'iso_3366_1' => ''],
        ['id' => 262, 'name' => 'Ruanda', 'iso_3366_1' => ''],
        ['id' => 263, 'name' => 'Samoa', 'iso_3366_1' => ''],
        ['id' => 264, 'name' => 'San Cristóbal y Nieves', 'iso_3366_1' => ''],
        ['id' => 265, 'name' => 'San Marino', 'iso_3366_1' => ''],
        ['id' => 266, 'name' => 'San Vicente y las Granadinas', 'iso_3366_1' => ''],
        ['id' => 267, 'name' => 'Santa Lucía', 'iso_3366_1' => ''],
        ['id' => 268, 'name' => 'Santo Tomé Y Príncipe', 'iso_3366_1' => ''],
        ['id' => 269, 'name' => 'Senegal', 'iso_3366_1' => ''],
        ['id' => 270, 'name' => 'Sierra Leona', 'iso_3366_1' => ''],
        ['id' => 271, 'name' => 'Singapur', 'iso_3366_1' => ''],
        ['id' => 272, 'name' => 'Siria (República Árabe de)', 'iso_3366_1' => ''],
        ['id' => 273, 'name' => 'Somalia', 'iso_3366_1' => ''],
        ['id' => 274, 'name' => 'Sri Lanka', 'iso_3366_1' => ''],
        ['id' => 275, 'name' => 'Sudáfrica', 'iso_3366_1' => ''],
        ['id' => 276, 'name' => 'Sudán', 'iso_3366_1' => ''],
        ['id' => 277, 'name' => 'Suecia', 'iso_3366_1' => ''],
        ['id' => 278, 'name' => 'Suiza', 'iso_3366_1' => ''],
        ['id' => 279, 'name' => 'Surinam', 'iso_3366_1' => ''],
        ['id' => 280, 'name' => 'Suazilandia', 'iso_3366_1' => ''],
        ['id' => 281, 'name' => 'Tailandia', 'iso_3366_1' => ''],
        ['id' => 282, 'name' => 'Tuvalu', 'iso_3366_1' => ''],
        ['id' => 283, 'name' => 'Tayikistán', 'iso_3366_1' => ''],
        ['id' => 284, 'name' => 'Timor Oriental', 'iso_3366_1' => ''],
        ['id' => 285, 'name' => 'Togo', 'iso_3366_1' => ''],
        ['id' => 286, 'name' => 'Tonga', 'iso_3366_1' => ''],
        ['id' => 287, 'name' => 'Trinidad y Tobago', 'iso_3366_1' => ''],
        ['id' => 288, 'name' => 'Túnez', 'iso_3366_1' => ''],
        ['id' => 289, 'name' => 'Turkmenistán', 'iso_3366_1' => ''],
        ['id' => 290, 'name' => 'Turquía', 'iso_3366_1' => ''],
        ['id' => 291, 'name' => 'Ucrania', 'iso_3366_1' => ''],
        ['id' => 292, 'name' => 'Uganda', 'iso_3366_1' => ''],
        ['id' => 293, 'name' => 'Uruguay', 'iso_3366_1' => ''],
        ['id' => 294, 'name' => 'Uzbekistán', 'iso_3366_1' => ''],
        ['id' => 295, 'name' => 'Vanuatu (República de)', 'iso_3366_1' => ''],
        ['id' => 296, 'name' => 'Venezuela', 'iso_3366_1' => 'VE'],
        ['id' => 297, 'name' => 'Viet Nam', 'iso_3366_1' => ''],
        ['id' => 298, 'name' => 'Yemen', 'iso_3366_1' => ''],
        ['id' => 299, 'name' => 'Yugoslavia (República Federal)', 'iso_3366_1' => ''],
        ['id' => 300, 'name' => 'Zambia', 'iso_3366_1' => ''],
        ['id' => 301, 'name' => 'Zimbabwe', 'iso_3366_1' => ''],
        ['id' => 302, 'name' => 'Otro/No Especifíca', 'iso_3366_1' => ''],
        ['id' => 303, 'name' => 'Inglaterra', 'iso_3366_1' => ''],
        ['id' => 304, 'name' => 'Taiwan', 'iso_3366_1' => ''],
        ['id' => 305, 'name' => 'Taiwan.', 'iso_3366_1' => ''],
        ['id' => 306, 'name' => 'Anguilla', 'iso_3366_1' => ''],
        ['id' => 307, 'name' => 'Birmania', 'iso_3366_1' => ''],
        ['id' => 308, 'name' => 'Dominica', 'iso_3366_1' => ''],
        ['id' => 309, 'name' => 'Gaza Strip', 'iso_3366_1' => ''],
        ['id' => 310, 'name' => 'Gibraltar', 'iso_3366_1' => ''],
        ['id' => 311, 'name' => 'Groenlandia', 'iso_3366_1' => ''],
        ['id' => 312, 'name' => 'Islas del Canal', 'iso_3366_1' => ''],
        ['id' => 313, 'name' => 'Islas Caimán', 'iso_3366_1' => ''],
        ['id' => 314, 'name' => 'Islas Cocos', 'iso_3366_1' => ''],
        ['id' => 315, 'name' => 'Islas Feroe', 'iso_3366_1' => ''],
        ['id' => 316, 'name' => 'Islas Malvinas', 'iso_3366_1' => ''],
        ['id' => 317, 'name' => 'Islas Marianas del Norte', 'iso_3366_1' => ''],
        ['id' => 318, 'name' => 'Islas Pitcairn', 'iso_3366_1' => ''],
        ['id' => 319, 'name' => 'Islas Vírgenes Americanas', 'iso_3366_1' => ''],
        ['id' => 320, 'name' => 'Montserrat', 'iso_3366_1' => ''],
        ['id' => 322, 'name' => 'Nueva Caledonia', 'iso_3366_1' => ''],
        ['id' => 323, 'name' => 'Puerto Rico', 'iso_3366_1' => ''],
        ['id' => 324, 'name' => 'Sahara Occidental', 'iso_3366_1' => ''],
        ['id' => 325, 'name' => 'Serbia', 'iso_3366_1' => ''],
        ['id' => 326, 'name' => 'Svalbard y Jan Mayen', 'iso_3366_1' => ''],
        ['id' => 327, 'name' => 'Tanzania', 'iso_3366_1' => ''],
        ['id' => 328, 'name' => 'Tokelau', 'iso_3366_1' => ''],
        ['id' => 329, 'name' => 'Wallis y Futura', 'iso_3366_1' => ''],
        ['id' => 330, 'name' => 'West Bank', 'iso_3366_1' => ''],
        ['id' => 331, 'name' => 'Yibuti',  'iso_3366_1' => '']
    ];

    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        foreach ($this->countryArray as $value) {
            Country::create($value);
        }

        $this->adjustAutoIncrement('countries');
    }

    protected function adjustAutoIncrement(string $table)
    {
        $maxId = DB::table($table)->max('id') + 1;

        $driver = DB::getDriverName();

        if ($driver === 'pgsql') {
            $sequenceName = $table . '_id_seq';
            DB::statement("SELECT setval('$sequenceName', $maxId)");
        } elseif ($driver === 'mysql' OR $driver === 'mariadb') {
            DB::statement("ALTER TABLE $table AUTO_INCREMENT = $maxId");
        } elseif ($driver === 'sqlite') {
            DB::statement("UPDATE sqlite_sequence SET seq = $maxId WHERE name = '$table'");
        } else {
            throw new \Exception('Unsupported database driver: ' . $driver);
        }
    }
} 